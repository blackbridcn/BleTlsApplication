

X.509

https://www.rfc-editor.org/rfc/rfc5280

X.509 是密码学里公钥证书的格式标准.
X.509是一种非常通用的证书格式。X509就是数字证书的标准，规定了数字证书的格式。
所有的X.509证书都符合为Public Key Infrastructure (PKI) 制定的 ITU-T X509 国际标准。

X.509是国际电信联盟-电信（ITU-T）部分标准和国际标准化组织（ISO）的证书格式标准。
作为ITU-ISO目录服务系列标准的一部分，X.509是定义了公钥证书结构的基本标准。

1988年首次发布，1993年和1996年两次修订。当前使用的版本是X.509 V3，它加入了扩展字段支持，这极大地增进了证书的灵活性。
X.509 V3证书包括一组按预定义顺序排列的强制字段，还有可选扩展字段，即使在强制字段中，X.509证书也允许很大的灵活性，
因为它为大多数字段提供了多种编码方案.


X.509证书、ASN.1以及DER编码格式的关系：

    ASN.1是一种标记语言,基于这种标记语言可以进行数据表示、编码、传输和解码
    DER是一种属于ASN.1的编码格式
    X.509证书是一种密码学中的公钥数字证书标准,规定了一个数字证书需要哪些信息,而这些信息的编码格式是可以采用ASN.1中的DER编码格式


X.509格式的证书构成规范，主要包含三个部分的信息:

    1.基本证书域（TBSCertificate）：版本号、序列号、签名算法、颁发者、有效日期、主体、主体公钥信息、颁发者唯一标识（o）、扩展项（o）
    2.数字签名的算法类型（SignatureAlgorithm）:签名算法、参数（o）
    3.签名值域（Signature）：签名值

生成X.509证书的过程:

    1.检查一个标准X.509证书需要的三个方面部分(证书的基本信息,签名算法,签名部分)
    2.然后对X.509证书进行编码获得DER编码格式数据
    3.然后用CA私钥对DER编码格式数据进行签名
    4.最后生成X.509数字证书


X.509证书是解决:在基础的数字签名模型过程中可能会出现公钥被替换的问题


X.509证书格式：
    X.509 DER 编码(ASCII)的后缀是： .DER .CER .CRT
    X.509 PAM 编码(Base64)的后缀是： .PEM .CER .CRT

    .cer/.crt是用于存放证书，它是2进制形式存放的，不含私钥。
    .pem跟crt/cer的区别是它以Ascii来表示。


PKCS公钥密码学标准（协议： 证书申请、证书更新）
Public-Key Cryptography Standards (PKCS)


pfx/p12用于存放个人证书/私钥，他通常包含保护密码，2进制方式

p10是证书请求

p7r是CA对证书请求的回复，只用于导入

p7b以树状展示证书链(certificate chain)，同时也支持单个证书，不含私钥。


PKCS#7 常用的后缀是： .P7B .P7C .SPC
PKCS#12 常用的后缀有： .P12 .0


